// metadata
export const version = "0.8.13"
export const title = "Imports"
export const description = "Importing libraries in Sway"
export const codes = [
    {
        fileName: "forc",
        code: "W3Byb2plY3RdCmF1dGhvcnMgPSBbIkNhbGwgRGVsZWdhdGlvbiJdCmVudHJ5ID0gIm1haW4uc3ciCmxpY2Vuc2UgPSAiQXBhY2hlLTIuMCIKbmFtZSA9ICJpbXBvcnRzIgoKW2RlcGVuZGVuY2llc10KbWF0aF9saWIgPSB7IHBhdGggPSAiLi4vbWF0aF9saWIvIiB9",
    },
    {
        fileName: "imports",
        code: "Y29udHJhY3Q7Ci8vIDEuIEltcG9ydGluZyB3aXRoaW4gdGhlIHNhbWUgcHJvamVjdAovLyBUaGUgImRlcCIga2V5d29yZCBkZWZpbmVzIHRoZSBsaWJyYXJ5IGFzIGEgZGVwZW5kZW5jeSB3aXRoaW4gdGhlIHByb2dyYW0KZGVwIGltcG9ydHNfbGlicmFyeTsKCi8vIFVubGlrZSB0aGUgcHJldmlvdXMgaGVsbG8gd29ybGQgZXhhbXBsZSBpdCBpcyBhY3R1YWxseSBnb29kIHByYWN0aWNlIHRvIGltcG9ydCBpbiBBQkkKLy8gSXQgaXMgYWxzbyBnb29kIHByYWN0aWNlIGRlZmluZSBhbmQgaW1wb3J0IGN1c3RvbSBlcnJvcnMgdGhpcyB3YXkgYXMgd2VsbAoKLy8gInVzZSIga2V5d29yZCBpbXBvcnRzIGluIHRoZSBsaWJyYXJ5CnVzZSBpbXBvcnRzX2xpYnJhcnk6Oio7CgovLyAyLiBJbXBvcnRpbmcgdGhlIHN0YW5kYXJkIGxpYnJhcnkKLy8gVGhlIHN0YW5kYXJkIGxpYnJhcnkgY29udGFpbnMKLy8gICAgIGEuIGxhbmd1YWdlIHByaW1hdGl2ZXMKLy8gICAgIGIuIGJsb2NrY2hhaW4gY29udGV4dHVhbCBvcGVyYXRpb25zCi8vICAgICBjLiBuYXRpdmUgYXNzZXQgbWFuYWdlbWVudAovLyAgICAgZXRjLgovLyBUaGluZ3MgaW4gc29saWRpdHkgbGlrZSBtc2cuc2VuZGVyKCkgYmxvY2sudGltZXN0YW1wKCkgYXJlIGZvdW5kIGhlcmUKLy8gaHR0cHM6Ly9naXRodWIuY29tL0Z1ZWxMYWJzL3N3YXkvdHJlZS9tYXN0ZXIvc3dheS1saWItc3RkCnVzZSBzdGQ6OnsKICAgIGlkZW50aXR5OjoqLAogICAgYWRkcmVzczo6KiwKICAgIGNvbnN0YW50czo6KiwKICAgIGF1dGg6Om1zZ19zZW5kZXIsCn07CgovLyAzLiBJbXBvcnRpbmcgbGlicmFyeSBmcm9tIGEgZGlmZmVyZW50IHByb2plY3QKLy8gTm90ZSAibWF0aF9saWIiIGlzIG5vdCBsaXN0ZWQgYXMgYSBkZXBlbmRlbmN5IHdpdGhpbiB0aGUgZmlsZSBidXQgaXQgaXMgaW4gZm9yYy50b21sCi8vIE1hdGggbGlicmFyaWVzIGNvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2F5LWxpYnMvY29uY2VudHJhdGVkLWxpcXVpZGl0eS8KdXNlIG1hdGhfbGliOjpmdWxsX21hdGg6Oio7CgpzdG9yYWdlIHsKICAgIHo6IHU2NCA9IDAsCiAgICBsYXN0X3VzZXI6IElkZW50aXR5ID0gSWRlbnRpdHk6OkFkZHJlc3MoQWRkcmVzczo6ZnJvbShaRVJPX0IyNTYpKSwKfQoKaW1wbCBJbXBvcnRzIGZvciBDb250cmFjdCB7CiAgICAjW3N0b3JhZ2Uod3JpdGUpXQogICAgZm4gYWRkKHg6IHU2NCwgeTogdTY0KSB7CiAgICAgICAgc3RvcmFnZS56ID0geCArIHk7CiAgICB9CgogICAgI1tzdG9yYWdlKHdyaXRlKV0KICAgIGZuIGxhc3RfdXNlcigpIHsKICAgICAgICBzdG9yYWdlLmxhc3RfdXNlciA9IG1zZ19zZW5kZXIoKS51bndyYXAoKTsKICAgIH0KCiAgICAjW3N0b3JhZ2Uod3JpdGUpXQogICAgZm4gZml4ZWRfcG9pbnRfbXVsdGlwbHlfYW5kX2RpdmlkZShhOiB1NjQsIGI6IHU2NCwgYzogdTY0KSB7CiAgICAgICAgc3RvcmFnZS56ID0gbXVsX2Rpdl91NjQoYSwgYiwgYyk7CiAgICB9Cn0K",
    },
    {
        fileName: "math_lib",
        code: "bGlicmFyeSBtYXRoX2xpYjsKCmRlcCBjb25jZW50cmF0ZWQvSTI0OwpkZXAgY29uY2VudHJhdGVkL1ExMjh4MTI4OwpkZXAgY29uY2VudHJhdGVkL1E2NHg2NDsKZGVwIGNvbmNlbnRyYXRlZC9mdWxsX21hdGg7",
    },
]

const html = `<p>Imports are very useful for code reuseability and interactions. Generally all Sway program types follow the same import paradigm.</p>
<p><code>main.sw</code></p>
<pre><code class="language-rust">contract;
<span class="hljs-comment">// 1. Importing within the same project</span>
<span class="hljs-comment">// The "dep" keyword defines the library as a dependency within the program</span>
dep imports_library;

<span class="hljs-comment">// Unlike the previous hello world example it is actually good practice to import in ABI</span>
<span class="hljs-comment">// It is also good practice define and import custom errors this way as well</span>

<span class="hljs-comment">// "use" keyword imports in the library</span>
<span class="hljs-keyword">use</span> imports_library::*;

<span class="hljs-comment">// 2. Importing the standard library</span>
<span class="hljs-comment">// The standard library contains</span>
<span class="hljs-comment">//     a. language primatives</span>
<span class="hljs-comment">//     b. blockchain contextual operations</span>
<span class="hljs-comment">//     c. native asset management</span>
<span class="hljs-comment">//     etc.</span>
<span class="hljs-comment">// Things in solidity like msg.sender() block.timestamp() are found here</span>
<span class="hljs-comment">// https://github.com/FuelLabs/sway/tree/master/sway-lib-std</span>
<span class="hljs-keyword">use</span> std::{
    identity::*,
    address::*,
    constants::*,
    auth::msg_sender,
};

<span class="hljs-comment">// 3. Importing library from a different project</span>
<span class="hljs-comment">// Note "math_lib" is not listed as a dependency within the file but it is in forc.toml</span>
<span class="hljs-comment">// Math libraries copied from https://github.com/sway-libs/concentrated-liquidity/</span>
<span class="hljs-keyword">use</span> math_lib::full_math::*;

storage {
    z: <span class="hljs-type">u64</span> = <span class="hljs-number">0</span>,
    last_user: Identity = Identity::<span class="hljs-title function_ invoke__">Address</span>(Address::<span class="hljs-title function_ invoke__">from</span>(ZERO_B256)),
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Imports</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Contract</span> {
    <span class="hljs-meta">#[storage(write)]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(x: <span class="hljs-type">u64</span>, y: <span class="hljs-type">u64</span>) {
        storage.z = x + y;
    }

    <span class="hljs-meta">#[storage(write)]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">last_user</span>() {
        storage.last_user = <span class="hljs-title function_ invoke__">msg_sender</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
    }

    <span class="hljs-meta">#[storage(write)]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fixed_point_multiply_and_divide</span>(a: <span class="hljs-type">u64</span>, b: <span class="hljs-type">u64</span>, c: <span class="hljs-type">u64</span>) {
        storage.z = <span class="hljs-title function_ invoke__">mul_div_u64</span>(a, b, c);
    }
}
</code></pre>
<h3 id="standard-library">Standard Library</h3>
<h3 id="local">Local</h3>
<p>This is the folder structure.</p>
<pre><code>└── Import
    └── src
        ├── main.sw
        └── imports_library.sw
</code></pre>
<h3 id="external">External</h3>
<p>This is the project structure.</p>
<pre><code>├── Import
│   ├── src
│   │   └── main.sw
│   └── Forc.toml
└── math_lib
    ├── concentrated
    │   ├── I24.sw
    │   ├── Q64x64.sw
    │   ├── Q128x128.sw
    │   └── full_math.sw
    └── math_lib.sw
</code></pre>
<p>External imports should be defined as a dependacy within <code>Forc.toml</code></p>
<p><code>Forc.toml</code></p>
<pre><code class="language-rust">[project]
authors = [<span class="hljs-string">"Call Delegation"</span>]
entry = <span class="hljs-string">"main.sw"</span>
license = <span class="hljs-string">"Apache-2.0"</span>
name = <span class="hljs-string">"imports"</span>

[dependencies]
math_lib = { path = <span class="hljs-string">"../math_lib/"</span> }
</code></pre>
<p>Note: It is good practice if you have a complex library to have an entry point for the sublibraries</p>
<p><code>math_lib.sw</code></p>
<pre><code class="language-rust">library math_lib;

dep concentrated/I24;
dep concentrated/Q128x128;
dep concentrated/Q64x64;
dep concentrated/full_math;
</code></pre>
`

export default html
