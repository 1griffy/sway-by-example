// metadata
export const version = "0.59.0"
export const title = "Vector"
export const description = "Vector in Sway"

export const tempFileName = "vector.sw"
export const tempPlaygroundLink =
  "https://www.sway-playground.org/?toolchain=beta-5&transpile=false&gist=f796665012c4f905bbefe3b4cfb10f56"

export const keywords = ["storage", "vector", "vectors"]

export const codes = [
  {
    fileName: "vector.rs",
    code: "Y29udHJhY3Q7Cgp1c2Ugc3RkOjp7c3RvcmFnZTo6c3RvcmFnZV92ZWM6Oip9OwoKLy8gc3RvcmFnZSB2ZWN0b3IsIGhlYXAKCmFiaSBNeUNvbnRyYWN0IHsKICAgICNbc3RvcmFnZShyZWFkLCB3cml0ZSldCiAgICBmbiBzdG9yYWdlX3ZlY19leGFtcGxlcygpOwogICAgZm4gaGVhcF92ZWNfZXhhbXBsZXMoKTsKfQoKc3RvcmFnZSB7CiAgICBudW1zOiBTdG9yYWdlVmVjPHU2ND4gPSBTdG9yYWdlVmVjIHt9LAp9CgppbXBsIE15Q29udHJhY3QgZm9yIENvbnRyYWN0IHsKICAgICNbc3RvcmFnZShyZWFkLCB3cml0ZSldCiAgICBmbiBzdG9yYWdlX3ZlY19leGFtcGxlcygpIHsKICAgICAgICAvLyBwdXNoCiAgICAgICAgLy8gcG9wCiAgICAgICAgLy8gZ2V0CiAgICAgICAgLy8gc2V0CiAgICAgICAgLy8gcmVtb3ZlIC0gbW92ZXMgYWxsIGVsZW1lbnRzIGRvd24gYnkgb25lIAogICAgICAgIC8vIHN3YXAgcmVtb3ZlIC0gcmVtb3ZlIGVsZW1lbnQsIG1vdmUgbGFzdCBlbGVtZW50CiAgICAgICAgLy8gbGVuCiAgICAgICAgLy8gY2xlYXIgLSBzZXRzIGxlbmd0aCB0byB6ZXJvCiAgICAgICAgLy8gbG9vcAoKICAgICAgICAvLyBwdXNoCiAgICAgICAgc3RvcmFnZS5udW1zLnB1c2goMTAwKTsKICAgICAgICBzdG9yYWdlLm51bXMucHVzaCgyMDApOwogICAgICAgIHN0b3JhZ2UubnVtcy5wdXNoKDMwMCk7CiAgICAgICAgc3RvcmFnZS5udW1zLnB1c2goNDAwKTsKICAgICAgICBzdG9yYWdlLm51bXMucHVzaCg1MDApOwogICAgICAgIHN0b3JhZ2UubnVtcy5wdXNoKDYwMCk7CgogICAgICAgIC8vIHBvcCAtIHJlbW92ZSBsYXN0IC0gcmV0dXJucyBPcHRpb248bnVtPgogICAgICAgIGxldCBsYXN0ID0gc3RvcmFnZS5udW1zLnBvcCgpOwoKICAgICAgICAvLyBnZXQKICAgICAgICBsZXQgZmlyc3QgPSBzdG9yYWdlLm51bXMuZ2V0KDApLnVud3JhcCgpOwogICAgICAgIGxldCBub25lID0gc3RvcmFnZS5udW1zLmdldCgxMDAwKTsKCiAgICAgICAgLy8gc2V0CiAgICAgICAgc3RvcmFnZS5udW1zLnNldCgwLCAxMjMpOwoKICAgICAgICAvLyByZW1vdmUgLSBSZXR1cm5zIHZhbHVlIHJlbW92ZWQKICAgICAgICAvLyBCZWZvcmUgcmVtb3ZlIFsxMDAsIDIwMCwgMzAwLCA0MDBdCiAgICAgICAgLy8gQWZ0ZXIgIHJlbW92ZSBbMTAwLCAzMDAsIDQwMF0KICAgICAgICBsZXQgcmVtb3ZlZF92YWwgPSBzdG9yYWdlLm51bXMucmVtb3ZlKDEpOwoKICAgICAgICAvLyBzd2FwIHJlbW92ZQogICAgICAgIC8vIEJlZm9yZSBzd2FwX3JlbW92ZSBbMTAwLCAzMDAsIDQwMCwgNTAwXQogICAgICAgIC8vIEFmdGVyICBzd2FwX3JlbW92ZSBbMTAwLCA1MDAsIDQwMF0KICAgICAgICBzdG9yYWdlLm51bXMuc3dhcF9yZW1vdmUoMSk7CgogICAgICAgIGxldCBsZW4gPSBzdG9yYWdlLm51bXMubGVuKCk7CgogICAgICAgIC8vIGNsZWFyIC0gc2V0cyBsZW5ndGggdG8gemVybwogICAgICAgIHN0b3JhZ2UubnVtcy5jbGVhcigpOwoKICAgICAgICAvLyBMb29wIGV4YW1wbGUKICAgICAgICBsZXQgbXV0IGkgPSAwOwogICAgICAgIHdoaWxlIGkgPCBsZW4gewogICAgICAgICAgICBsZXQgdmFsID0gc3RvcmFnZS5udW1zLmdldChpKS51bndyYXAoKTsKICAgICAgICAgICAgaSArPSAxOwogICAgICAgIH0KICAgIH0KCiAgICBmbiBoZWFwX3ZlY19leGFtcGxlcygpIHsKICAgICAgICAvLyBuZXcKICAgICAgICAvLyBwdXNoCiAgICAgICAgLy8gcG9wCiAgICAgICAgLy8gcmVtb3ZlCiAgICAgICAgLy8gZ2V0CiAgICAgICAgLy8gc2V0CiAgICAgICAgLy8gbGVuCiAgICAgICAgbGV0IG11dCB2OiBWZWM8dTY0PiA9IFZlYzo6bmV3KCk7CgogICAgICAgIHYucHVzaCgxMDApOwogICAgICAgIHYucHVzaCgyMDApOwogICAgICAgIHYucHVzaCgzMDApOwogICAgICAgIHYucHVzaCg0MDApOwogICAgICAgIHYucHVzaCg1MDApOwoKICAgICAgICAvLyBSZXR1cm5zIE9wdGlvbjx1NjQ+CiAgICAgICAgdi5wb3AoKTsKCiAgICAgICAgLy8gQmVmb3JlIHJlbW92ZSBbMTAwLCAyMDAsIDMwMCwgNDAwXQogICAgICAgIC8vIEFmdGVyICByZW1vdmUgWzEwMCwgMzAwLCA0MDBdCiAgICAgICAgLy8gUmV0dXJucyByZW1vdmVkIGVsZW1lbnQKICAgICAgICB2LnJlbW92ZSgxKTsKCiAgICAgICAgbGV0IHZhbCA9IHYuZ2V0KDEpLnVud3JhcCgpOwoKICAgICAgICB2LnNldCgxLCB2YWwgKyAxKTsKCiAgICAgICAgbGV0IGxlbiA9IHYubGVuKCk7CiAgICB9Cn0K",
  },
]

const html = `<p>Examples of vectors in Sway</p>
<pre><code class="language-rust">contract;

<span class="hljs-keyword">use</span> std::{storage::storage_vec::*};

<span class="hljs-comment">// storage vector, heap</span>

abi MyContract {
    <span class="hljs-meta">#[storage(read, write)]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">storage_vec_examples</span>();
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">heap_vec_examples</span>();
}

storage {
    nums: StorageVec&lt;<span class="hljs-type">u64</span>&gt; = StorageVec {},
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">MyContract</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Contract</span> {
    <span class="hljs-meta">#[storage(read, write)]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">storage_vec_examples</span>() {
        <span class="hljs-comment">// push</span>
        <span class="hljs-comment">// pop</span>
        <span class="hljs-comment">// get</span>
        <span class="hljs-comment">// set</span>
        <span class="hljs-comment">// remove - moves all elements down by one </span>
        <span class="hljs-comment">// swap remove - remove element, move last element</span>
        <span class="hljs-comment">// len</span>
        <span class="hljs-comment">// clear - sets length to zero</span>
        <span class="hljs-comment">// loop</span>

        <span class="hljs-comment">// push</span>
        storage.nums.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">100</span>);
        storage.nums.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">200</span>);
        storage.nums.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">300</span>);
        storage.nums.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">400</span>);
        storage.nums.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">500</span>);
        storage.nums.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">600</span>);

        <span class="hljs-comment">// pop - remove last - returns Option&lt;num&gt;</span>
        <span class="hljs-keyword">let</span> <span class="hljs-variable">last</span> = storage.nums.<span class="hljs-title function_ invoke__">pop</span>();

        <span class="hljs-comment">// get</span>
        <span class="hljs-keyword">let</span> <span class="hljs-variable">first</span> = storage.nums.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_ invoke__">unwrap</span>();
        <span class="hljs-keyword">let</span> <span class="hljs-variable">none</span> = storage.nums.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// set</span>
        storage.nums.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">123</span>);

        <span class="hljs-comment">// remove - Returns value removed</span>
        <span class="hljs-comment">// Before remove [100, 200, 300, 400]</span>
        <span class="hljs-comment">// After  remove [100, 300, 400]</span>
        <span class="hljs-keyword">let</span> <span class="hljs-variable">removed_val</span> = storage.nums.<span class="hljs-title function_ invoke__">remove</span>(<span class="hljs-number">1</span>);

        <span class="hljs-comment">// swap remove</span>
        <span class="hljs-comment">// Before swap_remove [100, 300, 400, 500]</span>
        <span class="hljs-comment">// After  swap_remove [100, 500, 400]</span>
        storage.nums.<span class="hljs-title function_ invoke__">swap_remove</span>(<span class="hljs-number">1</span>);

        <span class="hljs-keyword">let</span> <span class="hljs-variable">len</span> = storage.nums.<span class="hljs-title function_ invoke__">len</span>();

        <span class="hljs-comment">// clear - sets length to zero</span>
        storage.nums.<span class="hljs-title function_ invoke__">clear</span>();

        <span class="hljs-comment">// Loop example</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">i</span> = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> i &lt; len {
            <span class="hljs-keyword">let</span> <span class="hljs-variable">val</span> = storage.nums.<span class="hljs-title function_ invoke__">get</span>(i).<span class="hljs-title function_ invoke__">unwrap</span>();
            i += <span class="hljs-number">1</span>;
        }
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">heap_vec_examples</span>() {
        <span class="hljs-comment">// new</span>
        <span class="hljs-comment">// push</span>
        <span class="hljs-comment">// pop</span>
        <span class="hljs-comment">// remove</span>
        <span class="hljs-comment">// get</span>
        <span class="hljs-comment">// set</span>
        <span class="hljs-comment">// len</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">v</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u64</span>&gt; = <span class="hljs-type">Vec</span>::<span class="hljs-title function_ invoke__">new</span>();

        v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">100</span>);
        v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">200</span>);
        v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">300</span>);
        v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">400</span>);
        v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">500</span>);

        <span class="hljs-comment">// Returns Option&lt;u64&gt;</span>
        v.<span class="hljs-title function_ invoke__">pop</span>();

        <span class="hljs-comment">// Before remove [100, 200, 300, 400]</span>
        <span class="hljs-comment">// After  remove [100, 300, 400]</span>
        <span class="hljs-comment">// Returns removed element</span>
        v.<span class="hljs-title function_ invoke__">remove</span>(<span class="hljs-number">1</span>);

        <span class="hljs-keyword">let</span> <span class="hljs-variable">val</span> = v.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_ invoke__">unwrap</span>();

        v.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-number">1</span>, val + <span class="hljs-number">1</span>);

        <span class="hljs-keyword">let</span> <span class="hljs-variable">len</span> = v.<span class="hljs-title function_ invoke__">len</span>();
    }
}
</code></pre>`

export default html
